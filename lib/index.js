module.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e){t.exports=require("react")},function(t,e){t.exports=require("raf")},function(t,e){t.exports=require("classnames")},function(t,e,n){"use strict";function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return(c="function"==typeof Symbol&&"symbol"===u(Symbol.iterator)?function(t){return u(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":u(t)})(t)}function l(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.r(e);var f=n(0),p=n.n(f),m=n(2),d=n.n(m),y=n(1),b=n.n(y);function h(t){return t!==window?t.getBoundingClientRect():document.documentElement.getBoundingClientRect()||document.body.getBoundingClientRect()}function v(t,e){t===window?(document.body.scrollTop=e,document.documentElement.scrollTop=e):t.scrollTop=e}var g=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=l(this,s(e).call(this,t))).isDiff=function(t,e){if(t.length!==e.length)return!1;for(var n=r(t).sort(),o=r(e).sort(),i=0;i<n.length;i++)if(n[i]!==o[i])return!1;return!0},n.buildDetectElements=function(t){for(var e=[],o=[],r=0;r<t.length;r++)e.push(document.getElementById(t[r])),o.push(!1);n.setState({detectElements:e,elementStatus:o}),n.detect(e)},n.onScroll=function(){if(!n.scheduledAnimationFrame){n.scheduledAnimationFrame=!0;var t=n.state.detectElements;n.flag&&b()(function(){n.scheduledAnimationFrame=!1,n.detect(t)})}},n.detect=function(t){var e=h(n.props.container),o=n.props.container!==window?n.props.container.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,r=t.map(function(t){return n.isActive(t,e,o)}),i=n.state.elementStatus;r.length===i.length&&r.every(function(t,e){return t===i[e]})||n.setState({elementStatus:r})},n.isActive=function(t,e,o){if(t){var r=h(t),i=e.top+n.props.offsetTop+o;return r.top<=i&&i<=r.bottom}return!1},n.handleClickElement=function(t){for(var e=n.state.detectElements,o=[],r=0;r<e.length;r++)r===t?o.push(!0):o.push(!1);n.setState({elementStatus:o});var i=e[t];if(i){n.flag=!1;var u=h(n.props.container),c=h(i).top-u.top,l=n.props.container!==window?n.props.container.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,s=null;b()(function t(){s||(s=Date.now());var e=Date.now()-s,o=l+e/500*(c-n.props.offsetTop-l);e<500?(v(n.props.container,o),b()(t)):(v(n.props.container,Math.ceil(c-n.props.offsetTop)),n.flag=!0,n.scheduledAnimationFrame=!1)})}},n.state={detectElements:[],elementStatus:[]},n.flag=!0,n.scheduledAnimationFrame=!1,n}var n,u,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,f["PureComponent"]),n=e,(u=[{key:"componentDidMount",value:function(){this.buildDetectElements(this.props.items),this.listener=this.props.container.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.listener&&this.listener.remove()}},{key:"componentDidUpdate",value:function(t){t.items!==this.props.items&&this.isDiff(t.items,this.props.items)&&this.buildDetectElements(this.props.items)}},{key:"render",value:function(){var t=this,e=this.props,n=e.activeClass,r=e.componentTag,i=e.style,u=e.className,c=e.children,l=this.state.elementStatus,s=p.a.Children.map(c,function(e,r){var i;if(e){var u=d()((o(i={},"".concat(e.props.className),e.props.className),o(i,"".concat(n),l[r]),i));return p.a.cloneElement(e,{className:u,onClick:function(){return t.handleClickElement(r)}})}});return p.a.createElement(r,{className:u||"",style:i},s)}}])&&i(n.prototype,u),c&&i(n,c),e}();g.defaultProps={items:[],offsetTop:0,componentTag:"ul",style:{},container:window};e.default=g}]);